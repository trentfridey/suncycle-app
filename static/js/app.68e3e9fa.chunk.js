(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{228:function(e,t,r){"use strict";var n=r(26),o=r.n(n),a=r(27),i=r.n(a),s=r(111),c=r.n(s),l=r(40),u=r.n(l),f=r(41),h=r.n(f),d=r(21),b=r.n(d),y=r(29),g=r.n(y),j=r(5),p=r.n(j),O=r(227),v=r(25),x=r(32),m=r(145),w=r(1),k=r.n(w),S=r(146),D=r(195),P=r.n(D);function M(e){if(!e)return"--";var t=Math.floor(60*e);return(t-t%60)/60+"hrs "+Math.floor(60*e)%60+"min"}function L(e){var t=Math.floor(60*e),r=t%60,n=(t-r)/60;return(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}var A={fontWeight:"bold",fontSize:20,height:60,flexGrow:1,flexShrink:0,flexBasis:"auto",textAlign:"left",cursor:"pointer",borderBottomWidth:2,borderBottomColor:"steelblue",backgroundColor:"#101c24",color:"white"},N={color:"white",padding:15,fontFamily:"monospace",fontSize:18},H={padding:15,borderWidth:1,backgroundColor:"#101c24",borderColor:"steelblue",borderLeftWidth:5,color:"white",borderRadius:5,marginTop:10,fontSize:18,fontFamily:"monospace"},R={textAlign:"center",padding:15,color:"white",marginBottom:10,fontSize:28,fontFamily:"monospace"},z=r(12);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){var t=e.hoverDate,r=e.riseLabel,n=e.middayLabel,o=e.setLabel,a=e.hoursOfDaylight,i=e.remainingHours,s=e.location;return Object(z.jsxs)(v.a,{children:[Object(z.jsxs)(x.a,{style:E({},H),children:["\ud83c\udf0e ","Lat: "+s.lat+", Lon: "+s.lng]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\ud83d\udcc5 Date: ",t.getMonth()+1,"/",t.getDate(),"/",t.getFullYear()]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\ud83c\udf05 Sunrise: ",r,"AM"]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\ud83c\udf24 Midday: ",n]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\ud83c\udf07 Sunset: ",o,"PM"]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\u23f0 Daylight Hours: ",M(a)]}),Object(z.jsxs)(x.a,{style:E({},H),children:["\u231a Remaining Hours: ",M(i)]})]})},W=r(376),T=r(377),F=r(378);function I(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h()(this,r)}}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=function(e){var t=e.direction,r=e.handleNav,n={text:"next"==t?"Next >":"< Previous",shift:"next"==t?1:-1,align:"next"==t?"right":"left"};return Object(z.jsx)(m.a,{title:t,onPress:function(){return r(n.shift)},style:A,children:Object(z.jsx)(x.a,{style:U({textAlign:n.align},N),children:n.text})})},$=function(e){u()(r,e);var t=J(r);function r(e){var n;o()(this,r),(n=t.call(this,e)).onObtainLocation=n.onObtainLocation.bind(c()(n)),n.handleNav=n.handleNav.bind(c()(n));var a=[Date.now()-10368e6,Date.now()+31104e6],i={lat:35.835,lng:-78.783},s=n.generateSunSeries(i,a);return n.state={timeRange:a,location:i,series:s},n.getSolstice(),n.getEquinox(),n}return i()(r,[{key:"componentDidMount",value:function(){var e,t;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(S.b());case 2:if(e=r.sent,"granted"===e.status){r.next=7;break}return console.log("location not granted"),r.abrupt("return");case 7:return r.next=9,p.a.awrap(S.a({}));case 9:t=r.sent,this.onObtainLocation(t);case 11:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"onObtainLocation",value:function(e){var t=e.coords,r={lat:t.latitude,lng:t.longitude},n=this.generateSunSeries(r,this.state.timeRange);this.setState({sunSeries:n,location:r}),this.getSolstice(),this.getEquinox()}},{key:"handleNav",value:function(){return!0}},{key:"formatRelativeTicks",value:function(e){if(!e)return"None";var t=e-Date.now();return Math.floor(t/864e5)+" d"}},{key:"generateSunSeries",value:function(e,t){for(var r=e.lat,n=e.lng,o=[],a=t[0];a<t[1];a+=864e5)o.push(new Date(a));return o.map((function(e){var t=function(e,t){var r=e.lat,n=e.lng,o=Math.sin,a=Math.cos,i=Math.tan,s=Math.acos,c=Math.PI,l=c/180,u=180/c,f=Number.parseInt(P()(t,"%j")),h=t.getTimezoneOffset(),d=2*c/365*(f-1-.5),b=229.18*(75e-6+.001868*a(d)-.032*o(d)-.014615*a(2*d)-.040849*o(2*d)),y=.006918-.399912*a(d)+.070257*o(d)-.006758*a(2*d)+907e-6*o(2*d)-.002697*a(3*d)+.00148*o(3*d),g=s(a(90.833*l)/(a(r*l)*a(y))-i(r*l)*i(y));return{sunrise:(720-4*(n+g*u)-b-h)/60,sunset:(720-4*(n-g*u)-b-h)/60}}({lat:r,lng:n},e);return{date:e,sunrise:t.sunrise,sunset:t.sunset}}))}},{key:"getHoursOfDaylight",value:function(){return this.state.series.map((function(e){return{date:e.date,hours:e.sunrise-e.sunset}}))}},{key:"getSolstice",value:function(){var e=this.getHoursOfDaylight();return{summer:e.indexOf(Math.max(e)).date,winter:e.indexOf(Math.min(e)).date}}},{key:"getEquinox",value:function(){for(var e,t=[],r=I(this.getHoursOfDaylight());!(e=r()).done;){var n=e.value,o=n.date,a=n.hours;Math.abs(a-12)<.005&&t.push(o)}return t}},{key:"render",value:function(){var e=this,t=(new Date).setHours(0,0,0,0),r=this.state.series.find((function(e){return e.date.setHours(0,0,0,0)==t})),n=r.sunrise,o=r.sunset,a=(o-n)/2+n,i=new Date,s=i.getHours()+i.getMinutes()/60+i.getSeconds()/3600,c=o>s?o-s:0,l=L(n),u=L(a),f=L(o-12),h=o-n;return Object(z.jsxs)(O.a,{style:{padding:"5%",backgroundColor:"#151d30",height:"100%"},children:[Object(z.jsx)(x.a,{style:{fontSize:32,textAlign:"center"},children:"\ud83c\udf1e"}),Object(z.jsx)(x.a,{style:R,children:"Sunsettr"}),Object(z.jsx)(B,{location:this.state.location,hoverDate:new Date,riseLabel:l,middayLabel:u,setLabel:f,hoursOfDaylight:h,remainingHours:c}),Object(z.jsxs)(v.a,{style:{display:"flex",flexDirection:"row",marginTop:15},children:[Object(z.jsx)(Y,{direction:"previous",handleNav:this.handleNav}),Object(z.jsx)(m.a,{style:U(U({},A),{},{textAlign:"center",borderBottom:"5px solid grey"}),onPress:function(){return e.setState({tracker:new Date})},children:Object(z.jsx)(x.a,{style:N,children:"Today"})}),Object(z.jsx)(Y,{direction:"next",handleNav:this.handleNav})]}),Object(z.jsx)(v.a,{style:{width:"100%",border:"1px solid black",overflow:"hidden"},children:Object(z.jsxs)(W.a,{style:{background:{fill:"steelblue"}},children:[Object(z.jsx)(T.a,{style:{data:{stroke:"red",strokeWidth:2},labels:{angle:-90,fill:"red",fontSize:20}},x:function(){return t}}),Object(z.jsx)(F.a,{tickCount:24,dependentAxis:!0,domain:[0,24],style:{axis:{stroke:"white"},grid:{stroke:"grey",strokeDasharray:2},tickLabels:{fontSize:8,stroke:"none",fill:"white"}}}),Object(z.jsx)(F.a,{tickCount:12,tickFormat:function(e){return new Date(e).toLocaleString("default",{month:"short"})},style:{axis:{stroke:"white"},grid:{stroke:"grey",strokeDasharray:4},tickLabels:{fontSize:8,stroke:"none",fill:"white"}}}),Object(z.jsx)(T.a,{style:{data:{strokeWidth:1,stroke:"blue"}},data:this.state.series,x:"date",y:"sunrise"}),Object(z.jsx)(T.a,{style:{data:{strokeWidth:1,stroke:"orange"}},data:this.state.series,x:"date",y:"sunset"})]})})]})}}]),r}(k.a.Component);t.a=$},237:function(e,t,r){e.exports=r(365)}},[[237,1,2]]]);
//# sourceMappingURL=app.68e3e9fa.chunk.js.map